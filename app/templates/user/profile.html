{% extends "base_infinite_scroll.html" %}

{% block title %}{{ _('%(name)s\'s profile', name = user.username) }}{% endblock %}

{% block content %}

    {{ super() }}
    {% include "user/_profile.html" %}

    {% if user.tags and current_user == user %}
    <div class="row">
        <div class="col-xs-12 col-md-12">
            {% include "user/_tags.html" %}
        </div>
    </div>
    {% endif %}

    {% if user.posts %}
        <div class="row">
            <div class="col-xs-12 col-md-12 articles">
                <h1>{{ _('Latest') }}</h1>
                {% for post in posts %}
                    {% include 'user/_post_preview.html' %}
                {% endfor %}
            </div>
            <a class="pagination__next" href="{{ url_for('frontend.user', username = user.username) }}?page=2"></a>
        </div>
    {% endif %}

    <div class="modal fade" id="confirmModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">{{ _('Confirm your deletion') }}</h4>
                </div>
                <div class="modal-body">
                    {{_('Are you really sure to delete this post? This operation is not reversible!')}}
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">{{ _('Cancel') }}</button>
                    <button type="button" class="btn btn-primary">{{ _('Confirm') }}</button>
                </div>
            </div>
        </div>
    </div>

{% endblock %}
